<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GiftPicks AI | Smart Gift Ideas, Powered by AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Find the perfect gift instantly with GiftPicks AI. Powered by AI to deliver thoughtful, personalized gift ideas for any budget, person, or occasion." />

  <!-- Google AdSense verification (loader only, no ad units yet) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8509398148166447"
    crossorigin="anonymous"></script>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg?v=1">

  <style>
    :root {
      --bg-gradient: linear-gradient(180deg, #0f172a 0%, #020617 100%);
      --card-bg: rgba(15,23,42,0.9);
      --card-border: rgba(148,163,184,0.5);
      --accent-gradient: linear-gradient(90deg, #38bdf8, #3b82f6, #a855f7);
      --text-light: #e2e8f0;
      --text-muted: #94a3b8;
      --text-bright: #f9fafb;
      --radius: 14px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background:
        radial-gradient(circle at top left, rgba(56,189,248,0.25) 0, transparent 55%),
        radial-gradient(circle at top right, rgba(168,85,247,0.28) 0, transparent 55%),
        var(--bg-gradient);
      color: var(--text-light);
      -webkit-font-smoothing: antialiased;
    }

    .container {
      width: min(1150px, 92%);
      margin: 0 auto;
      padding: 32px 0 80px;
    }

    /* HEADER */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      gap: 16px;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .brand-logo {
      height: 56px;
      filter: drop-shadow(0 4px 12px rgba(0,0,0,0.4));
    }
    .brand-text {
      display: flex;
      flex-direction: column;
      line-height: 1.2;
    }
    .brand-name {
      color: var(--text-bright);
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.02em;
    }
    .brand-tagline {
      color: var(--text-muted);
      font-size: 12px;
    }

    nav {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }
    nav a {
      color: var(--text-light);
      text-decoration: none;
      font-size: 13px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: 0.2s;
    }
    nav a:hover {
      color: #ffffff;
      border-color: rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.9);
    }

    /* HERO CARD */
    .hero-card {
      background: var(--card-bg);
      backdrop-filter: blur(16px);
      border: 1px solid var(--card-border);
      padding: 26px 24px 24px;
      border-radius: 20px;
      box-shadow: 0 30px 80px rgba(15,23,42,0.7);
    }

    .hero-title {
      font-size: clamp(28px, 3.3vw, 36px);
      font-weight: 700;
      margin: 4px 0 8px;
      background: var(--accent-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .hero-subtitle {
      margin: 0 0 14px;
      font-size: 14px;
      color: var(--text-light);
    }

    /* STEPPER */
    .stepper {
      display: flex;
      gap: 10px;
      margin: 10px 0 22px;
    }
    .step {
      flex: 1;
      padding: 8px 10px;
      text-align: center;
      font-size: 12px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      color: var(--text-muted);
      border: 1px solid rgba(148,163,184,0.5);
      white-space: nowrap;
    }
    .step.active {
      background: var(--accent-gradient);
      color: #fff;
      font-weight: 600;
      border: none;
    }

    /* FORM */
    form {
      margin-top: 10px;
    }
    .form-grid {
      display: grid;
      gap: 16px;
    }

    .form-row label {
      font-size: 14px;
      font-weight: 500;
      display: block;
      margin-bottom: 4px;
    }

    .form-row select,
    .form-row input {
      width: 100%;
      padding: 10px 12px;
      font-size: 14px;
      color: #e2e8f0;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148,163,184,0.7);
      border-radius: var(--radius);
      outline: none;
      transition: border-color 0.15s, box-shadow 0.15s, background 0.15s;
    }

    .form-row select:focus,
    .form-row input:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 0 1px rgba(56,189,248,0.7);
      background: rgba(15,23,42,1);
    }

    .field-help {
      font-size: 12px;
      margin-top: 4px;
      color: var(--text-muted);
    }

    /* CHIPS */
    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 6px 0 6px;
    }
    .chip {
      font-size: 12px;
      padding: 6px 11px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.9);
      color: var(--text-light);
      cursor: pointer;
      transition: 0.15s;
    }
    .chip:hover {
      border-color: #60a5fa;
      background: rgba(15,23,42,1);
    }
    .chip.active {
      background: var(--accent-gradient);
      border-color: transparent;
      color: #f9fafb;
      box-shadow: 0 10px 24px rgba(56,189,248,0.6);
    }

    /* SUBMIT BUTTON */
    .button-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 22px;
      padding: 12px 18px;
      font-size: 15px;
      font-weight: 600;
      border-radius: 999px;
      background: var(--accent-gradient);
      color: #fff;
      border: none;
      cursor: pointer;
      text-align: center;
      box-shadow: 0 18px 45px rgba(56,189,248,0.7);
      transition: 0.18s;
    }
    .button-primary:hover {
      filter: brightness(1.08);
      transform: translateY(-1px);
      box-shadow: 0 22px 55px rgba(59,130,246,0.9);
    }
    .button-primary:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .status-text {
      margin-top: 10px;
      font-size: 13px;
      color: var(--text-muted);
    }
    .error-text { color: #fecaca; }
    .success-text { color: #bbf7d0; }

    /* RESULTS */
    .results-card {
      margin-top: 28px;
      padding: 22px 22px 24px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 20px;
      backdrop-filter: blur(16px);
      display: none;
    }
    .results-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-bright);
      margin-bottom: 8px;
    }
    .results-desc {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 14px;
    }
    .gift-item {
      margin-bottom: 18px;
      padding-bottom: 14px;
      border-bottom: 1px solid rgba(148,163,184,0.35);
    }
    .gift-item:last-child {
      border-bottom: none;
      padding-bottom: 0;
      margin-bottom: 0;
    }
    .gift-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-bright);
      margin-bottom: 6px;
    }
    .gift-desc {
      color: var(--text-light);
      font-size: 14px;
      margin-bottom: 4px;
    }
    .gift-meta {
      color: var(--text-muted);
      font-size: 12px;
      margin-bottom: 2px;
    }

    /* INFO CONTENT SECTION */
    .info-card {
      margin-top: 30px;
      padding: 22px 22px 24px;
      background: rgba(15,23,42,0.92);
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,0.45);
      backdrop-filter: blur(14px);
    }
    .info-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-bright);
      margin-bottom: 8px;
    }
    .info-body {
      font-size: 14px;
      color: var(--text-light);
      line-height: 1.6;
      margin-bottom: 10px;
    }
    .info-list {
      margin: 6px 0 0 18px;
      padding: 0;
      font-size: 14px;
      color: var(--text-light);
    }
    .info-list li { margin-bottom: 4px; }
    .info-muted {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 8px;
    }

    /* FOOTER */
    footer {
      margin-top: 26px;
      font-size: 12px;
      color: var(--text-muted);
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
      border-top: 1px solid rgba(148,163,184,0.35);
      padding-top: 14px;
    }
    .footer-links {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 12px;
    }
    .footer-links a:hover {
      color: var(--text-light);
      text-decoration: underline;
    }

    /* COOKIE BANNER */
    .cookie-banner {
      position: fixed;
      left: 50%;
      bottom: 16px;
      transform: translateX(-50%);
      max-width: 720px;
      width: calc(100% - 32px);
      background: rgba(15,23,42,0.98);
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      box-shadow: 0 18px 45px rgba(15,23,42,0.9);
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 12px;
      color: var(--text-light);
      z-index: 50;
    }
    .cookie-banner p {
      margin: 0;
      flex: 1;
      font-size: 12px;
      color: var(--text-muted);
    }
    .cookie-banner a {
      color: #38bdf8;
      text-decoration: none;
      font-size: 12px;
    }
    .cookie-banner a:hover {
      text-decoration: underline;
    }
    .cookie-banner button {
      border: none;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent-gradient);
      color: #f9fafb;
      white-space: nowrap;
    }

    @media (max-width: 720px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
      .hero-card,
      .results-card,
      .info-card {
        padding: 22px 18px 20px;
      }
      .stepper {
        flex-direction: column;
      }
      .cookie-banner {
        flex-direction: column;
        align-items: flex-start;
        border-radius: 16px;
      }
      .cookie-banner button {
        align-self: flex-end;
      }
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- HEADER -->
    <header>
      <div class="brand">
        <img src="/logo-giftpicksai.svg" alt="GiftPicks AI Logo" class="brand-logo" />
        <div class="brand-text">
          <div class="brand-name">GiftPicks AI</div>
          <div class="brand-tagline">AI-powered gift suggestions</div>
        </div>
      </div>

      <nav>
        <a href="/">Home</a>
        <a href="/about.html">About</a>
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
        <a href="/contact.html">Contact</a>
      </nav>
    </header>

    <!-- HERO -->
    <div class="hero-card">
      <h1 class="hero-title">Find the perfect gift in seconds.</h1>
      <p class="hero-subtitle">
        Tell GiftPicks AI who you’re shopping for, what they like, and how you want the gift to feel.
        Get a short, focused list of ideas you can actually use.
      </p>

      <!-- STEPPER -->
      <div class="stepper">
        <div class="step active">1. Who & basics</div>
        <div class="step">2. Interests & tone</div>
        <div class="step">3. Curated ideas</div>
      </div>

      <!-- FORM -->
      <form id="giftForm">
        <div class="form-grid">

          <!-- Recipient -->
          <div class="form-row">
            <label for="recipientType">Who is this gift for?</label>
            <select id="recipientType">
              <option value="">Select...</option>
              <option value="family">Family member</option>
              <option value="friend">Friend</option>
              <option value="coworker">Coworker / manager</option>
              <option value="partner">Partner / significant other</option>
              <option value="other">Other</option>
            </select>
          </div>

          <!-- Age -->
          <div class="form-row">
            <label for="ageRange">Age range (approx.)</label>
            <select id="ageRange">
              <option value="">Any age</option>
              <option value="0-5">0–5</option>
              <option value="6-12">6–12</option>
              <option value="13-17">13–17</option>
              <option value="18-24">18–24</option>
              <option value="25-34">25–34</option>
              <option value="35-49">35–49</option>
              <option value="50+">50+</option>
            </select>
          </div>

          <!-- Gender -->
          <div class="form-row">
            <label for="genderPreference">Gender</label>
            <select id="genderPreference">
              <option value="">No gender preference</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
            <p class="field-help">
              Optional. Only use this if it truly helps narrow ideas.
            </p>
          </div>

          <!-- Occasion -->
          <div class="form-row">
            <label for="occasion">Occasion</label>
            <select id="occasion">
              <option value="">Any occasion</option>
              <option value="birthday">Birthday</option>
              <option value="anniversary">Anniversary</option>
              <option value="holiday">Holiday</option>
              <option value="graduation">Graduation</option>
              <option value="thank-you">Thank you</option>
              <option value="just-because">Just because</option>
            </select>
          </div>

          <!-- Gift tone -->
          <div class="form-row">
            <label for="giftTone">Gift tone</label>
            <select id="giftTone">
              <option value="">No strong preference</option>
              <option value="practical">Practical & useful</option>
              <option value="sentimental">Sentimental / meaningful</option>
              <option value="funny">Funny / light-hearted</option>
              <option value="experience">Experience-based</option>
              <option value="luxury">A bit of a splurge</option>
            </select>
            <p class="field-help">
              Helps nudge the AI toward how you want the gift to feel.
            </p>
          </div>

          <!-- Budget -->
          <div class="form-row">
            <label for="budgetRange">Budget range</label>
            <input id="budgetRange" placeholder="Example: $25–$75 or 50" />
            <p class="field-help">
              A simple number or a range both work.
            </p>
          </div>

          <!-- Interests (chips + text) -->
          <div class="form-row">
            <label>Top interests</label>
            <div class="chip-row" id="interestChips">
              <button type="button" class="chip" data-value="tech & gadgets">Tech & gadgets</button>
              <button type="button" class="chip" data-value="gaming">Gaming</button>
              <button type="button" class="chip" data-value="sports & fitness">Sports & fitness</button>
              <button type="button" class="chip" data-value="fashion & style">Fashion & style</button>
              <button type="button" class="chip" data-value="beauty & self care">Beauty & self-care</button>
              <button type="button" class="chip" data-value="home & cozy">Home & cozy</button>
              <button type="button" class="chip" data-value="cooking & food">Cooking & food</button>
              <button type="button" class="chip" data-value="coffee & tea">Coffee & tea</button>
              <button type="button" class="chip" data-value="books & reading">Books & reading</button>
              <button type="button" class="chip" data-value="music">Music</button>
              <button type="button" class="chip" data-value="travel">Travel</button>
              <button type="button" class="chip" data-value="DIY & crafts">DIY & crafts</button>
            </div>
            <input id="customInterests" placeholder="Anything specific? e.g., golf, Taylor Swift, espresso, Lego..." />
            <p class="field-help">
              Click a few chips and add any specific details that matter.
            </p>
          </div>

          <!-- Country -->
          <div class="form-row">
            <label for="country">Country / region</label>
            <select id="country">
              <option value="">Not specified</option>
              <option value="USA">USA</option>
              <option value="Canada">Canada</option>
              <option value="UK">UK</option>
              <option value="Australia">Australia</option>
              <option value="Europe">Europe</option>
              <option value="other">Other</option>
            </select>
            <p class="field-help">
              Helps avoid suggestions that don’t ship easily or don’t make sense where they live.
            </p>
          </div>

        </div>

        <button class="button-primary" type="submit" id="submitBtn">
          <span id="btnLabel">Generate gift ideas</span>
          <span id="btnSpinner" style="display:none;">Thinking…</span>
        </button>
        <div id="status" class="status-text"></div>
      </form>
    </div>

    <!-- RESULTS -->
    <div id="resultsCard" class="results-card">
      <div class="results-title">Gift ideas based on what you shared</div>
      <div class="results-desc" id="resultsDesc">
        You’ll see a short, curated list of ideas here once GiftPicks AI runs.
      </div>
      <div id="resultsList"></div>
    </div>

    <!-- INFO CONTENT SECTION -->
    <section class="info-card" aria-label="About GiftPicks AI">
      <h2 class="info-title">What is GiftPicks AI?</h2>
      <p class="info-body">
        GiftPicks AI is a simple tool that helps you turn “I have no idea what to buy” into a short,
        focused list of gift ideas. Instead of scrolling endless lists, you answer a few quick questions
        about who you’re shopping for, your budget, and their interests. The AI then generates ideas that
        are tailored to the person, the occasion, and how you want the gift to feel.
      </p>
      <p class="info-body">
        Behind the scenes, GiftPicks AI uses large language models to combine your inputs
        (like recipient type, age range, interests, and tone) into a set of concrete suggestions.
        Each idea is designed to be something you could actually buy online, with a rough price range
        and a search term you can use on your favorite shopping site.
      </p>
      <ul class="info-list">
        <li>Smarter than generic “top 100 gifts” posts.</li>
        <li>Fast enough to use right before a birthday or holiday.</li>
        <li>Flexible enough to work for any relationship or budget.</li>
      </ul>
      <p class="info-muted">
        Note: GiftPicks AI doesn’t track who your recipient is or store any personal identity information.
        The tool only works with the preferences and context you choose to share in the form above.
      </p>
    </section>

    <!-- FOOTER -->
    <footer>
      <div>© <span id="year"></span> GiftPicks AI. All rights reserved.</div>
      <div class="footer-links">
        <a href="/">Home</a>
        <a href="/about.html">About</a>
        <a href="/privacy.html">Privacy</a>
        <a href="/terms.html">Terms</a>
        <a href="/contact.html">Contact</a>
      </div>
    </footer>

  </div>

  <!-- COOKIE BANNER -->
  <div id="cookieBanner" class="cookie-banner" style="display:none;">
    <p>
      GiftPicks AI uses cookies for basic analytics and (in the future) advertising. By using this site,
      you agree to our <a href="/privacy.html">Privacy Policy</a>.
    </p>
    <button id="cookieAccept">OK</button>
  </div>

  <script>
    const form = document.getElementById("giftForm");
    const resultsCard = document.getElementById("resultsCard");
    const resultsList = document.getElementById("resultsList");
    const resultsDesc = document.getElementById("resultsDesc");
    const statusEl = document.getElementById("status");
    const submitBtn = document.getElementById("submitBtn");
    const btnLabel = document.getElementById("btnLabel");
    const btnSpinner = document.getElementById("btnSpinner");

    // Year in footer
    document.getElementById("year").textContent = new Date().getFullYear();

    // Interest chip behavior
    const interestChips = document.querySelectorAll("#interestChips .chip");
    interestChips.forEach(chip => {
      chip.addEventListener("click", () => {
        chip.classList.toggle("active");
      });
    });

    function setLoading(isLoading) {
      submitBtn.disabled = isLoading;
      btnSpinner.style.display = isLoading ? "inline" : "none";
      btnLabel.textContent = isLoading ? "Generating…" : "Generate gift ideas";
    }

    function showStatus(text, type) {
      statusEl.textContent = text || "";
      statusEl.className = "status-text";
      if (type === "error") statusEl.classList.add("error-text");
      if (type === "success") statusEl.classList.add("success-text");
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      showStatus("", "");
      resultsList.innerHTML = "";
      resultsDesc.textContent = "Generating ideas based on your inputs…";
      resultsCard.style.display = "block";

      const payload = {
        recipientType: document.getElementById('recipientType').value,
        ageRange: document.getElementById('ageRange').value,
        occasion: document.getElementById('occasion').value,
        budgetRange: document.getElementById('budgetRange').value.trim(),
        country: document.getElementById('country').value.trim(),
        genderPreference: document.getElementById('genderPreference').value,
        giftTone: document.getElementById('giftTone').value,
        interestTags: Array.from(interestChips)
          .filter(c => c.classList.contains('active'))
          .map(c => c.dataset.value),
        customInterests: document.getElementById('customInterests').value.trim()
      };

      if (!payload.recipientType) {
        showStatus("Please choose who the gift is for to get more relevant ideas.", "error");
        resultsDesc.textContent = "Waiting for details.";
        return;
      }

      const userPrompt = buildPrompt(payload);

      try {
        setLoading(true);

        const res = await fetch("/api/gifts", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt: userPrompt })
        });

        if (!res.ok) {
          throw new Error("API error");
        }

        const data = await res.json();
        if (!data.gifts || !Array.isArray(data.gifts)) {
          throw new Error("Unexpected response format");
        }

        if (!data.gifts.length) {
          resultsDesc.textContent = "No ideas came back. Try loosening the budget or interests.";
          showStatus("Try tweaking the inputs and run it again.", "error");
          return;
        }

        renderGifts(data.gifts);
        resultsDesc.textContent = "Here are a few ideas to get you started:";
        showStatus("Adjust anything above and click again any time for new ideas.", "success");
      } catch (err) {
        console.error(err);
        resultsDesc.textContent = "Something went wrong while generating ideas.";
        showStatus("Error talking to the AI. Try again in a moment.", "error");
      } finally {
        setLoading(false);
      }
    });

    function renderGifts(gifts) {
      resultsList.innerHTML = gifts.map(g => `
        <div class="gift-item">
          <div class="gift-title">${g.title || "Gift idea"}</div>
          <div class="gift-desc">${g.description || ""}</div>
          <div class="gift-meta">${g.whyItFits || ""}</div>
          <div class="gift-meta"><strong>Price hint:</strong> ${g.priceHint || "Varies"}</div>
        </div>
      `).join("");
    }

    function buildPrompt(payload) {
      const {
        recipientType,
        ageRange,
        occasion,
        budgetRange,
        country,
        genderPreference,
        giftTone,
        interestTags,
        customInterests
      } = payload;

      const genderLabel =
        genderPreference === "male" ? "male"
        : genderPreference === "female" ? "female"
        : "no gender preference (keep ideas neutral)";

      const toneLabel = giftTone
        ? giftTone
        : "no strong preference";

      const combinedInterests = [
        ...(interestTags || []),
        customInterests || ""
      ].filter(Boolean).join(", ");

      return `
You are an expert gift consultant.

Recipient details:
- Recipient type: ${recipientType || 'unknown'}
- Age range: ${ageRange || 'any'}
- Gender: ${genderLabel}
- Occasion: ${occasion || 'general occasion'}
- Desired gift tone: ${toneLabel}
- Budget: ${budgetRange || 'flexible'}
- Interests: ${combinedInterests || 'none provided'}
- Region: ${country || 'unspecified'}

Rules:
- Focus on practical, realistic gifts that can be purchased online.
- If gender is provided (male/female), you may lightly factor it into style or examples,
  but do NOT rely on stereotypes. Prioritize their interests, tone, and budget.
- If gender is "no gender preference", keep suggestions broadly appealing.
- If a gift tone is given (practical, sentimental, funny, experience, luxury),
  ensure at least one idea strongly fits that tone, and the others feel consistent with it.
- Provide a mix of 3–6 varied ideas (e.g., not 5 very similar items).
- Each idea should have:
  - a clear, specific title
  - a short description
  - a brief explanation of why it fits this person
  - a simple price hint (e.g. "around $40", "$50–$100")
  - 2–5 tags like "tech", "home", "experience", "sentimental"
  - an Amazon search term a user could copy/paste

Return ONLY valid JSON with this shape:
{
  "gifts": [
    {
      "title": "string",
      "description": "string",
      "whyItFits": "string",
      "priceHint": "string",
      "tags": ["string"],
      "amazonSearchTerm": "string"
    }
  ]
}
      `.trim();
    }

    // COOKIE BANNER LOGIC
    (function() {
      const banner = document.getElementById("cookieBanner");
      const acceptBtn = document.getElementById("cookieAccept");
      if (!banner || !acceptBtn) return;

      try {
        const consent = localStorage.getItem("gpa_cookie_consent");
        if (consent === "yes") {
          banner.style.display = "none";
          return;
        }
      } catch (e) {
        // localStorage might not be available; fail open (show banner)
      }

      banner.style.display = "flex";

      acceptBtn.addEventListener("click", () => {
        banner.style.opacity = "0";
        try {
          localStorage.setItem("gpa_cookie_consent", "yes");
        } catch (e) {}
        setTimeout(() => {
          banner.style.display = "none";
        }, 200);
      });
    })();
  </script>
</body>
</html>
